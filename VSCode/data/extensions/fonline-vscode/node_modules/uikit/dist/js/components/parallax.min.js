/*! UIkit 3.3.1 | http://www.getuikit.com | (c) 2014 - 2019 YOOtheme | MIT License */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitparallax",["uikit-util"],t):(e=e||self).UIkitParallax=t(e.UIkit.util)}(this,function(k){"use strict";var e={props:{media:Boolean},data:{media:!1},computed:{matchMedia:function(){var e=function(e){if(k.isString(e))if("@"===e[0]){var t="breakpoint-"+e.substr(1);e=k.toFloat(k.getCssVar(t))}else if(isNaN(e))return e;return!(!e||isNaN(e))&&"(min-width: "+e+"px)"}(this.media);return!e||window.matchMedia(e).matches}}};var t=["x","y","bgx","bgy","rotate","scale","color","backgroundColor","borderColor","opacity","blur","hue","grayscale","invert","saturate","sepia","fopacity","stroke"];function d(e,t){var r=e.length-1,i=Math.min(Math.floor(r*t),r-1),a=e.slice(i,i+2);return a.push(1===t?1:t%(1/r)*r),a}var r={mixins:[{mixins:[e],props:t.reduce(function(e,t){return e[t]="list",e},{}),data:t.reduce(function(e,t){return e[t]=void 0,e},{}),computed:{props:function(v,m){var b=this;return t.reduce(function(e,t){if(k.isUndefined(v[t]))return e;var r,i,a,s=t.match(/color/i),n=s||"opacity"===t,o=v[t].slice(0);n&&k.css(m,t,""),o.length<2&&o.unshift(("scale"===t?1:n?k.css(m,t):0)||0);var c,u=o.reduce(function(e,t){return k.isString(t)&&t.replace(/-|\d/g,"").trim()||e},"");if(s){var l=m.style.color;o=o.map(function(e){return t=m,r=e,k.css(k.css(t,"color",r),"color").split(/[(),]/g).slice(1,-1).concat(1).slice(0,4).map(k.toFloat);var t,r}),m.style.color=l}else if(k.startsWith(t,"bg")){var f="bgy"===t?"height":"width";if(o=o.map(function(e){return k.toPx(e,f,b.$el)}),k.css(m,"background-position-"+t[2],""),i=k.css(m,"backgroundPosition").split(" ")["x"===t[2]?0:1],b.covers){var p=Math.min.apply(Math,o),d=Math.max.apply(Math,o),h=o.indexOf(p)<o.indexOf(d);a=d-p,o=o.map(function(e){return e-(h?p:d)}),r=(h?-a:0)+"px"}else r=i}else o=o.map(k.toFloat);if("stroke"===t){if(!o.some(function(e){return e}))return e;var g=(c=b.$el,Math.ceil(Math.max.apply(Math,k.$$("[stroke]",c).map(function(e){return e.getTotalLength&&e.getTotalLength()||0}).concat([0]))));k.css(m,"strokeDasharray",g),"%"===u&&(o=o.map(function(e){return e*g/100})),o=o.reverse(),t="strokeDashoffset"}return e[t]={steps:o,unit:u,pos:r,bgPos:i,diff:a},e},{})},bgProps:function(){var t=this;return["bgx","bgy"].filter(function(e){return e in t.props})},covers:function(e,t){return i=(r=t).style.backgroundSize,a="cover"===k.css(k.css(r,"backgroundSize",""),"backgroundSize"),r.style.backgroundSize=i,a;var r,i,a}},disconnected:function(){delete this._image},update:{read:function(e){var c=this;if(e.active=this.matchMedia,e.active){if(!e.image&&this.covers&&this.bgProps.length){var t=k.css(this.$el,"backgroundImage").replace(/^none|url\(["']?(.+?)["']?\)$/,"$1");if(t){var r=new Image;r.src=t,(e.image=r).naturalWidth||(r.onload=function(){return c.$update()})}}var i=e.image;if(i&&i.naturalWidth){var u={width:this.$el.offsetWidth,height:this.$el.offsetHeight},l={width:i.naturalWidth,height:i.naturalHeight},f=k.Dimensions.cover(l,u);this.bgProps.forEach(function(e){var t=c.props[e],r=t.diff,i=t.bgPos,a=t.steps,s="bgy"===e?"height":"width",n=f[s]-u[s];if(n<r)u[s]=f[s]+r-n;else if(r<n){var o=u[s]/k.toPx(i,s,c.$el);o&&(c.props[e].steps=a.map(function(e){return e-(n-r)/o}))}f=k.Dimensions.cover(l,u)}),e.dim=f}}},write:function(e){var t=e.dim;e.active?t&&k.css(this.$el,{backgroundSize:t.width+"px "+t.height+"px",backgroundRepeat:"no-repeat"}):k.css(this.$el,{backgroundSize:"",backgroundRepeat:""})},events:["resize"]},methods:{reset:function(){var r=this;k.each(this.getCss(0),function(e,t){return k.css(r.$el,t,"")})},getCss:function(f){var p=this.props;return Object.keys(p).reduce(function(e,t){var r=p[t],i=r.steps,a=r.unit,s=r.pos,n=function(e,t,r){void 0===r&&(r=2);var i=d(e,t),a=i[0],s=i[1],n=i[2];return(k.isNumber(a)?a+Math.abs(a-s)*n*(a<s?1:-1):+s).toFixed(r)}(i,f);switch(t){case"x":case"y":a=a||"px",e.transform+=" translate"+k.ucfirst(t)+"("+k.toFloat(n).toFixed("px"===a?0:2)+a+")";break;case"rotate":a=a||"deg",e.transform+=" rotate("+(n+a)+")";break;case"scale":e.transform+=" scale("+n+")";break;case"bgy":case"bgx":e["background-position-"+t[2]]="calc("+s+" + "+n+"px)";break;case"color":case"backgroundColor":case"borderColor":var o=d(i,f),c=o[0],u=o[1],l=o[2];e[t]="rgba("+c.map(function(e,t){return e+=l*(u[t]-e),3===t?k.toFloat(e):parseInt(e,10)}).join(",")+")";break;case"blur":a=a||"px",e.filter+=" blur("+(n+a)+")";break;case"hue":a=a||"deg",e.filter+=" hue-rotate("+(n+a)+")";break;case"fopacity":a=a||"%",e.filter+=" opacity("+(n+a)+")";break;case"grayscale":case"invert":case"saturate":case"sepia":a=a||"%",e.filter+=" "+t+"("+(n+a)+")";break;default:e[t]=n}return e},{transform:"",filter:""})}}}],props:{target:String,viewport:Number,easing:Number},data:{target:!1,viewport:1,easing:1},computed:{target:function(e,t){var r=e.target;return function e(t){return t?"offsetTop"in t?t:e(t.parentNode):document.body}(r&&k.query(r,t)||t)}},update:{read:function(e,t){var r=e.percent;if("scroll"!==t&&(r=!1),e.active){var i,a,s=r;return i=k.scrolledOver(this.target)/(this.viewport||1),a=this.easing,{percent:r=k.clamp(i*(1-(a-a*i))),style:s!==r&&this.getCss(r)}}},write:function(e){var t=e.style;e.active?t&&k.css(this.$el,t):this.reset()},events:["scroll","resize"]}};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("parallax",r),r});