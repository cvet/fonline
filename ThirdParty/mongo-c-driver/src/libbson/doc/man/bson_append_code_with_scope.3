.\" Man page generated from reStructuredText.
.
.TH "BSON_APPEND_CODE_WITH_SCOPE" "3" "Nov 03, 2021" "1.19.2" "libbson"
.SH NAME
bson_append_code_with_scope \- bson_append_code_with_scope()
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
#define BSON_APPEND_CODE_WITH_SCOPE(b, key, val, scope) \e
   bson_append_code_with_scope (b, key, (int) strlen (key), val, scope)

bool
bson_append_code_with_scope (bson_t *bson,
                             const char *key,
                             int key_length,
                             const char *javascript,
                             const bson_t *scope);
.ft P
.fi
.UNINDENT
.UNINDENT
.SH PARAMETERS
.INDENT 0.0
.IP \(bu 2
\fBbson\fP: A \fBbson_t\fP\&.
.IP \(bu 2
\fBkey\fP: An ASCII C string containing the name of the field.
.IP \(bu 2
\fBkey_length\fP: The length of \fBkey\fP in bytes, or \-1 to determine the length with \fBstrlen()\fP\&.
.IP \(bu 2
\fBjavascript\fP: A NULL\-terminated UTF\-8 encoded string containing the javascript fragment.
.IP \(bu 2
\fBscope\fP: Optional \fBbson_t\fP containing the scope for \fBjavascript\fP\&.
.UNINDENT
.SH DESCRIPTION
.sp
The \fBbson_append_code_with_scope()\fP function shall perform like \fBbson_append_code()\fP except it allows providing a scope to the javascript function in the form of a bson document.
.sp
If \fBscope\fP is NULL, this function appends an element with BSON type "code", otherwise with BSON type "code with scope".
.SH RETURNS
.sp
Returns \fBtrue\fP if the operation was applied successfully. The function will fail if appending \fBjavascript\fP and \fBscope\fP grows \fBbson\fP larger than INT32_MAX.
.SH AUTHOR
MongoDB, Inc
.SH COPYRIGHT
2017-present, MongoDB, Inc
.\" Generated by docutils manpage writer.
.
