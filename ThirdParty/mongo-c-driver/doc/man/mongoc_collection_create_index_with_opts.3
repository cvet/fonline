.\" Man page generated from reStructuredText.
.
.TH "MONGOC_COLLECTION_CREATE_INDEX_WITH_OPTS" "3" "Nov 16, 2017" "1.8.2" "MongoDB C Driver"
.SH NAME
mongoc_collection_create_index_with_opts \- mongoc_collection_create_index_with_opts()
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
bool
mongoc_collection_create_index_with_opts (mongoc_collection_t *collection,
                                          const bson_t *keys,
                                          const mongoc_index_opt_t *index_opts,
                                          const bson_t *command_opts,
                                          bson_t *reply,
                                          bson_error_t *error);
.ft P
.fi
.UNINDENT
.UNINDENT
.SH DEPRECATED
.sp
This function is deprecated and should not be used in new code. See create\-indexes\&.
.SH PARAMETERS
.INDENT 0.0
.IP \(bu 2
\fBcollection\fP: A \fBmongoc_collection_t\fP\&.
.IP \(bu 2
\fBkeys\fP: A \fI\%bson_t\fP\&.
.IP \(bu 2
\fBindex_opts\fP: A mongoc_index_opt_t.
.IP \(bu 2
\fBcommand_opts\fP: A \fI\%bson_t\fP with extra options, such as writeConcern or collation, or \fBNULL\fP\&.
.IP \(bu 2
\fBreply\fP: An optional location for a \fI\%bson_t\fP which will store the server’s reply.
.IP \(bu 2
\fBerror\fP: An optional location for a \fBbson_error_t\fP or \fBNULL\fP\&.
.UNINDENT
.SH DESCRIPTION
.sp
This function will request the creation of a new index.
.sp
This function will use the \fBcreateIndexes\fP command if available on the MongoDB server. If not, it will fallback to inserting into \fBsystem.indexes\fP for compatibility with MongoDB <= 2.4.
.sp
The server’s reply is stored in \fBreply\fP\&.
.sp
If no write concern is provided in \fBcommand_opts\fP, the collection’s write concern is used.
.sp
See \fBmongoc_index_opt_t\fP for options on creating indexes.
.SH ERRORS
.sp
Errors are propagated via the \fBerror\fP parameter.
.SH RETURNS
.sp
Returns \fBtrue\fP if successful. Returns \fBfalse\fP and sets \fBerror\fP if there are invalid arguments or a server or network error.
.sp
\fBreply\fP is always initialized and must be destroyed with \fI\%bson_destroy()\fP\&. If the server is running an obsolete version of MongoDB then \fBreply\fP may be empty, though it will still be initialized.
.SH AUTHOR
MongoDB, Inc
.SH COPYRIGHT
2017, MongoDB, Inc
.\" Generated by docutils manpage writer.
.
